<div class="d-flex align-items-center justify-content-between mb-3">
    <h2>Users</h2>
    <%= link_to "New user", new_admin_user_path, class: "btn btn-primary" %>
</div>

<hr>

<%= form_with url: admin_users_path, method: :get, local: true, class: "g-3 align-items-end filter-form" do %>
    <div class="width-input-filter">
        <label class="form-label">Name</label>
        <%= text_field_tag :name, params[:name], placeholder: "Search by name", class: "form-control" %>
    </div>

    <div class="width-input-filter">
        <label class="form-label">Role</label>
        <%= select_tag :role_id, options_from_collection_for_select(Role.all, :id, :name, params[:role_id]), include_blank: "All Roles", class: "form-select" %>
    </div>

    <div class="width-input-filter">
        <label class="form-label">Team</label>
        <%= select_tag :team_id, options_from_collection_for_select(Team.all, :id, :name, params[:team_id]), include_blank: "All Teams", class: "form-select" %>
    </div>

    <div class="d-flex align-items-end width-input-filter">
        <%= submit_tag "Filter", class: "btn btn-primary w-100" %>
    </div>
<% end %>

<table class="table table-striped">
    <thead>
        <tr>
            <th>Name</th>
            <th>Avatar</th>
            <th>Email</th>
            <th>Team</th>
            <th>Role</th>
            <th>Create At</th>
            <th>Actions</th>
        </tr>
    </thead>

    <tbody id="users">
        <% if @users.any? %>
            <% @users.each do |user| %>
                <%= render partial: "item", locals: { user: user } %>
            <% end %>
        <% else %>
            <tr>
                <td colspan="100%" class="text-center">No data</td>
            </tr>
        <% end %>
    </tbody>
</table>

<%= will_paginate @users %>
